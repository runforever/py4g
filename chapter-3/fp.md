# 函数式编程

> 不能影响你编程观点的语言，不值得你去学。——Alan Perlis

每当我想到 FP（函数式编程 Function Programing）的时候我总会想到《黑客帝国》中 Neo 觉醒的时候，觉得 FP 就是某种黑科技，实际上 FP 没有那么神奇，只不过是另外一种编程范式而已。

![neo](http://cdn.defcoding.com/08812C60-2130-4B3C-9395-D86DEE9FFDF3.png)

### FP 带来了什么
很难通过一句话来让读者体会到 FP 思考方式的影响，我只能先告诉读者我个人的感受，学习和使用 FP 一段时间后，我发现我解决问题的时候会先去抽象的描述问题，然后很自然的就能把代码写出来，而之前我通常会先思考用编程语言的什么技术解决问题，而不是问题本身。

### FP 的特点
1. 函数是一等公民。
2. 递归。
3. 状态不可变。
4. 支持闭包（closure）。

**对我而言，FP 的特点是它的外在表现形式，而他的内涵是 FP 的思维方式。**

### 排序问题之快速排序
排序算法是编程学习中比较基础的算法了，给你一堆无序的数字，经过算法排序后，得到有序的序列。

例如：

给定无序列表 `[4, 1, 5, 7, 9, 11, 6]`

算法的结果是 `[1, 4, 5, 6, 7, 9, 11]`

#### 快速排序算法的步骤：

1. 选择列表中第一个元素为基准元素。
2. 剩下列表中选出比基准元素小的放在基准元素的左边，大的放在右边。
3. 基准元素左右两边的列表重复 1，2 步骤，直到排序完成。

下图为排序过程：
![quick sort process](http://cdn.defcoding.com/679D8DF42A0A385B4ED39AE27F385AD1.png)

#### 步骤解读：

1. `4` 为基准元素，左边列表 `[3, 1, 2]`，右边列表 `[8, 6, 7, 9]`。
2. `3` 为基准元素，左边列表 `[1, 2]`，右边列表为 `[]`。
3. `1` 为基准元素，左边列表 `[]`，右边列表为 `[2]`。
4. `2` 为基准元素，只有一个元素，直接返回 2。
5. 重复以上类似步骤直到第 9 步排序完成。

#### 解决方案
我们可以把上面的过程描述成下面的解决方案。
```
qsort(unorder_list):
    if len(unorder_list) == 1:
        return unorder_list
    elem = unorder_list[0]
    left_list = [i for i in unorder_list[1:] if i <= elem]
    right_list = [i for i in unorder_list[1:] if i > elem]
    return qsort(left_list) + [elem] + qsort(rigth_list)
```
